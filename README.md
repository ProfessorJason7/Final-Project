# Chess
#### Video Demo:  <https://youtu.be/osE0iOQZ3es>
#### Description: <br /> ___My project is the game of chess. I have an assets folder and a .py file. The python file is the main code, and and the assets folder has the pieces. I have functions in my code but I decided not to make a separate helper functions file because I wanted to keep things simple. The first step was to decide how I wanted to make the game. I decided to use python because I was way more confortable with it than C, and I didn't want to learn something completely new. The first step, setting up VSCode was already a struggle. Eventually I got it, and had to do some planning. <br /> ___ For chess, the framework of the project is so important. I learned how to use classes which is basically liek typedef in C. I made two classes, a Piece and a Square. The piece orginally had an image, type, color, location, and state, but I would end up adding more. Also I never used the state becuase I forgot that existed. I would eventually add the status moved, which would be used for both castling and pawns beign able to move two squares in the beginning, start and end to record the start and end during the move, and is_promo_piece, used only for pawn promotion. The square class had the properties of x coord, y coord, then coord which is a tuple, and its location is the location of the square in terms of pixels. Then I gave each square a number which correlates with the location of the pieces. This number is how I would calculate everything else in the future. Lastly, I added occupied_piece to determine the squares occupied_piece, which is a piece from pieces. To initialize the squares I did it within the draw_board which draws the square in order then appends the square to a list called sq[], and the list index aligns with the square's number. I made a function for moving the pieces in the piece class, which changes the location, but the problem was that I didn't change each squares occupied piece and I didn't figure that out until much later which caused a lot of problems. The next thing I did was make lists for white pieces and black pieces and put each piece in their respective list. The numbers of the squares goes as follows: <br /> 0  1  2  3  4  5  6  7<br /> 8 9 10 11 12 13 14 15  etc.<br />  ___ The next challenge I encountered was figuring out how to figure out how each piece could move. I would have a list of valid moves that the function would return. Pawns were the easiest because they would either move +8 or -8, or +16 or -16 if they havent moved yet, and I would also check if the pieces diagonal to the pawn are opponent pieces. Kings where also easy because they would just move one around them, but I also added lists for squares that were on the edges so that if the king was on these edges, the funciton would remove specific moves. I also added a bunch of checks to see if castling is valid. Knights were also simple, also using the edges to remove moves. I then realized that if I figured out the Queen, I could just use horizantal and diagonal movment for the rook and bishops. I decided to use a for loop that would stop if it encountered an edge, an enemy piece, or ally piece. <br /> ___ Next I checked how to check for check, which I did by iterating over oppenent pieces and if the king was in the pieces options, then check would return true. Then I added a separate path for checking options. If check was true, then it would go through possible moves of a selected piece and if that move would place the king out of check, then I would append that move to valid. <br/> ___ I then realized I forgot to add game logic for preventing moves that would place a piece in check. My first thought was after getting a valid list, iterating through each move and if that move would cause check to be true, then I would remove that move. However, checking for checks calls the check_option function which cause the check_check function and that went on forver. I then tried to do a depth input to the check_option function and if it was False then I would iterate through the moves but while iterating through the moves it would set depth to True. However this didn't work and I moved on to something else in the meantime. <br/> ___ I then figured out how to caclulate checkmate and stalemate. At the beginning of everyturn, I would iterate through every piece and if no pieces can move, then its either stalement or checkmate, and if check is True then its checkmate. I then decided to do the checking if a mvoe is legal outside of the checkoptions fucntions. I sure there is a better way to do it, but that was the simplest I could think of. <br/> ___ The last major thing I did was handling pawn promotion. If a pawn made it to the back rank, The game state would be pawn promotion, and I would show pieces that the pawn could promote to then after the player clicks a piece that peice would replace the pawn. However, my drawing pieces functions iterated over the white_pieces list, so I had to add temporary pieces with the classification is_promo_piece to either white_pieces or black_pieces, and then I would take them out at the end. And that was basically my journey in creating the game chess.



